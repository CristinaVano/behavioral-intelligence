import streamlit as st
from datetime import datetime
import pandas as pd
from fpdf import FPDF
import io
import base64
from PIL import Image
import os

# ConfiguraciÃ³n de la pÃ¡gina
st.set_page_config(
    page_title="BIAS - Behavioral Intelligence Analysis System",
    page_icon="ğŸ“Š",
    layout="wide",
    initial_sidebar_state="expanded"
)

# Diccionarios para traducciÃ³n
translations = {
    "EspaÃ±ol": {
        "app_title": "BIAS - Sistema de AnÃ¡lisis de Inteligencia Conductual",
        "welcome": "Bienvenido/a al Sistema de AnÃ¡lisis de Inteligencia Conductual",
        "login": "Iniciar SesiÃ³n",
        "username": "Usuario",
        "password": "ContraseÃ±a",
        "login_button": "Entrar",
        "language": "Idioma",
        "logout": "Cerrar SesiÃ³n",
        "profile_section": "Perfil de evaluaciÃ³n",
        "name": "Nombre completo",
        "id_number": "NÃºmero de identificaciÃ³n",
        "age": "Edad",
        "gender": "GÃ©nero",
        "male": "Masculino",
        "female": "Femenino",
        "other": "Otro",
        "education": "Nivel educativo",
        "primary": "Primaria",
        "secondary": "Secundaria",
        "university": "Universidad",
        "postgraduate": "Postgrado",
        "none": "Sin estudios",
        "substances": "Consumo de sustancias",
        "alcohol": "Alcohol",
        "tobacco": "Tabaco",
        "recreational": "Drogas recreativas",
        "cocaine": "CocaÃ­na",
        "heroin": "HeroÃ­na",
        "none_substance": "Ninguna",
        "criminal_record": "Antecedentes penales",
        "theft": "Robo",
        "gender_violence": "Violencia de gÃ©nero",
        "homicide": "Homicidio",
        "terrorism": "Terrorismo",
         "hate_speech": "Discurso de odio",
        "online_radicalization": "RadicalizaciÃ³n en lÃ­nea",
        "travel_attempts": "Intentos de viaje a zonas de conflicto",
        "financial_support": "Apoyo financiero a grupos extremistas",
        "possession_weapons": "PosesiÃ³n de armas",
        "attack_planning": "PlanificaciÃ³n de ataques",
        "recruitment": "Reclutamiento de nuevos miembros",
        "propaganda_consumption": "Consumo de propaganda extremista",
        "isolation": "Aislamiento social",
        "identity_crisis": "Crisis de identidad",
        "none_criminal": "Ninguno",
        "personality_traits": "Rasgos de personalidad",
        "paranoid": "Paranoide",
        "antisocial": "Antisocial",
        "sadomasochistic": "Sadomasoquista",
        "impulsive": "Impulsivo",
        "unstable": "Emocionalmente inestable",
        "dependent": "Dependiente",
        "avoidant": "Evitativo",
         "narcissistic": "Narcisista",
        "histrionic": "HistriÃ³nico",
        "passive_aggressive": "Pasivo-agresivo",
        "schizoid": "Esquizoide",
        "obsessive": "Obcecado con el control",
        "none_traits": "Ninguno significativo",
        "submit": "Enviar evaluaciÃ³n",
        "results_section": "Resultados de la evaluaciÃ³n",
        "risk_level": "Nivel de riesgo:",
        "high": "ALTO",
        "moderate": "MODERADO",
        "low": "BAJO",
        "evaluation_date": "Fecha de evaluaciÃ³n:",
        "generate_report": "Generar informe",
        "download_report": "Descargar Informe",
        "download_detailed": "Descargar Informe Detallado",
        "login_error": "Usuario o contraseÃ±a incorrectos",
        "field_required": "Este campo es obligatorio",
        "results_info": "Tras enviar la evaluaciÃ³n, aquÃ­ se mostrarÃ¡n los resultados del anÃ¡lisis de riesgo.",
        "recommendations": "Recomendaciones institucionales",
        "therapy_recs": "Recomendaciones TerapÃ©uticas",
        "medication_recs": "Recomendaciones FarmacolÃ³gicas",
        "reintegration_recs": "Terapias de ReinserciÃ³n",
        "prevention_recs": "Medidas de PrevenciÃ³n",
        "urgent_measures": "Medidas de Urgencia",
        "explanation": "ExplicaciÃ³n del Nivel de Riesgo",
        "high_explanation": "El sujeto presenta mÃºltiples factores de riesgo significativos que sugieren una alta probabilidad de radicalizaciÃ³n violenta. Se recomienda intervenciÃ³n inmediata y monitoreo constante.",
        "moderate_explanation": "El sujeto presenta algunos factores de riesgo relevantes que requieren atenciÃ³n y seguimiento. Se recomienda intervenciÃ³n preventiva y evaluaciÃ³n periÃ³dica.",
        "low_explanation": "El sujeto presenta pocos factores de riesgo. Se recomienda seguimiento rutinario y medidas preventivas bÃ¡sicas.",
        "scoring_report": "Informe Detallado de PuntuaciÃ³n",
        "detailed_scoring": "PuntuaciÃ³n Detallada",
        "total_risk_score": "PuntuaciÃ³n total de riesgo",
        "education_score": "PuntuaciÃ³n nivel educativo",
        "substances_score": "PuntuaciÃ³n consumo de sustancias",
        "criminal_score": "PuntuaciÃ³n antecedentes penales",
        "personality_score": "PuntuaciÃ³n rasgos de personalidad",
        "diagnosis_list": "DiagnÃ³sticos previos",
         "ptsd": "Trastorno de estrÃ©s postraumÃ¡tico (TEPT)",
        "bpd": "Trastorno lÃ­mite de la personalidad (TLP)",
        "bipolar": "Trastorno bipolar",
        "schizophrenia": "Esquizofrenia",
        "major_depression": "DepresiÃ³n mayor recurrente",
        "ocd": "Trastorno obsesivo-compulsivo (TOC)",
        "gad": "Trastorno de ansiedad generalizada (TAG)",
        "panic_disorder": "Trastorno de pÃ¡nico",
        "social_phobia": "Fobia social",
        "conduct_disorder": "Trastorno de la conducta",
        "previous_therapies": "Terapias previas",
        "therapy_date": "Fecha de inicio de terapia",
        "select_date": "Seleccionar fecha",
        "alarm_date": "Fecha de seÃ±ales de alarma",
        "interest_profile": "Motivo de interÃ©s",
        "family_extremism": "Antecedentes de extremismo familiar",
        "upload_photo": "Subir fotografÃ­a del sujeto",
        "upload_button": "Subir imagen",
        "photo_requirements": "La fotografÃ­a debe ser tipo carnet con fondo blanco",
         "clinical_history": "Historial ClÃ­nico",
        "psychological_profile": "Perfil PsicolÃ³gico",
        "additional_comments": "Comentarios Adicionales"
    },
    "English": {
        "app_title": "BIAS - Behavioral Intelligence Analysis System",
        "welcome": "Welcome to the Behavioral Intelligence Analysis System",
        "login": "Login",
        "username": "Username",
        "password": "Password",
        "login_button": "Enter",
        "language": "Language",
        "logout": "Logout",
        "profile_section": "Evaluation Profile",
        "name": "Full Name",
        "id_number": "ID Number",
        "age": "Age",
        "gender": "Gender",
        "male": "Male",
        "female": "Female",
        "other": "Other",
        "education": "Education Level",
        "primary": "Primary",
        "secondary": "Secondary",
        "university": "University",
        "postgraduate": "Postgraduate",
        "none": "No Education",
        "substances": "Substance Use",
        "alcohol": "Alcohol",
        "tobacco": "Tobacco",
        "recreational": "Recreational Drugs",
        "cocaine": "Cocaine",
        "heroin": "Heroin",
        "none_substance": "None",
        "criminal_record": "Criminal Record",
        "theft": "Theft",
        "gender_violence": "Gender Violence",
        "homicide": "Homicide",
        "terrorism": "Terrorism",
        "hate_speech": "Hate speech",
        "online_radicalization": "Online radicalization",
        "travel_attempts": "Travel attempts to conflict zones",
        "financial_support": "Financial support to extremist groups",
        "possession_weapons": "Possession of weapons",
        "attack_planning": "Attack planning",
        "recruitment": "Recruitment of new members",
        "propaganda_consumption": "Consumption of extremist propaganda",
        "isolation": "Social isolation",
        "identity_crisis": "Identity crisis",
        "none_criminal": "None",
        "personality_traits": "Personality Traits",
        "paranoid": "Paranoid",
        "antisocial": "Antisocial",
        "sadomasochistic": "Sadomasochistic",
        "impulsive": "Impulsive",
        "unstable": "Emotionally Unstable",
        "dependent": "Dependent",
        "avoidant": "Avoidant",
        "narcissistic": "Narcissistic",
        "histrionic": "Histrionic",
        "passive_aggressive": "Passive-aggressive",
        "schizoid": "Schizoid",
        "obsessive": "Obsessive",
        "none_traits": "No Significant Traits",
        "submit": "Submit Evaluation",
        "results_section": "Evaluation Results",
        "risk_level": "Risk Level:",
        "high": "HIGH",
        "moderate": "MODERATE",
        "low": "LOW",
        "evaluation_date": "Evaluation Date:",
        "generate_report": "Generate Report",
        "download_report": "Download Report",
        "download_detailed": "Download Detailed Report",
        "login_error": "Incorrect username or password",
        "field_required": "This field is required",
        "results_info": "After submitting the evaluation, the risk analysis results will be displayed here.",
        "recommendations": "Institutional Recommendations",
        "therapy_recs": "Therapeutic Recommendations",
        "medication_recs": "Pharmacological Recommendations",
        "reintegration_recs": "Reintegration Therapies",
        "prevention_recs": "Preventive Measures",
        "urgent_measures": "Urgent Measures",
        "explanation": "Risk Level Explanation",
        "high_explanation": "The subject presents multiple significant risk factors that suggest a high probability of violent radicalization. Immediate intervention and constant monitoring are recommended.",
        "moderate_explanation": "The subject presents some relevant risk factors that require attention and follow-up. Preventive intervention and periodic evaluation are recommended.",
        "low_explanation": "The subject presents few risk factors. Routine follow-up and basic preventive measures are recommended.",
        "scoring_report": "Detailed Scoring Report",
        "detailed_scoring": "Detailed Scoring",
        "total_risk_score": "Total risk score",
        "education_score": "Education level score",
        "substances_score": "Substance use score",
        "criminal_score": "Criminal record score",
        "personality_score": "Personality traits score",
        "diagnosis_list": "Previous diagnoses",
        "ptsd": "Post-traumatic stress disorder (PTSD)",
        "bpd": "Borderline personality disorder (BPD)",
        "bipolar": "Bipolar disorder",
        "schizophrenia": "Schizophrenia",
        "major_depression": "Recurrent major depression",
        "ocd": "Obsessive-compulsive disorder (OCD)",
        "gad": "Generalized anxiety disorder (GAD)",
        "panic_disorder": "Panic disorder",
        "social_phobia": "Social phobia",
        "conduct_disorder": "Conduct disorder",
        "previous_therapies": "Previous therapies",
        "therapy_date": "Therapy start date",
        "select_date": "Select date",
        "alarm_date": "Date of warning signs",
        "interest_profile": "Reason for interest",
        "family_extremism": "Family history of extremism",
        "upload_photo": "Upload subject photo",
        "upload_button": "Upload image",
        "photo_requirements": "Photo must be ID-type with white background",
        "clinical_history": "Clinical History",
        "psychological_profile": "Psychological Profile",
        "additional_comments": "Additional Comments"
    },
    "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": {
        "app_title": "BIAS - Ù†Ø¸Ø§Ù… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø³Ù„ÙˆÙƒÙŠ",
        "welcome": "Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø³Ù„ÙˆÙƒÙŠ",
        "login": "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
        "username": "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
        "password": "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
        "login_button": "Ø¯Ø®ÙˆÙ„",
        "language": "Ø§Ù„Ù„ØºØ©",
        "logout": "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
        "profile_section": "Ù…Ù„Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ…",
        "name": "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„",
        "id_number": "Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©",
        "age": "Ø§Ù„Ø¹Ù…Ø±",
        "gender": "Ø§Ù„Ø¬Ù†Ø³",
        "male": "Ø°ÙƒØ±",
        "female": "Ø£Ù†Ø«Ù‰",
        "other": "Ø¢Ø®Ø±",
        "education": "Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ",
        "primary": "Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ",
        "secondary": "Ø«Ø§Ù†ÙˆÙŠ",
        "university": "Ø¬Ø§Ù…Ø¹ÙŠ",
        "postgraduate": "Ø¯Ø±Ø§Ø³Ø§Øª Ø¹Ù„ÙŠØ§",
        "none": "Ø¨Ø¯ÙˆÙ† ØªØ¹Ù„ÙŠÙ…",
        "substances": "ØªØ¹Ø§Ø·ÙŠ Ø§Ù„Ù…ÙˆØ§Ø¯",
        "alcohol": "Ø§Ù„ÙƒØ­ÙˆÙ„",
        "tobacco": "Ø§Ù„ØªØ¨Øº",
        "recreational": "Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠØ©",
        "cocaine": "Ø§Ù„ÙƒÙˆÙƒØ§ÙŠÙŠÙ†",
        "heroin": "Ø§Ù„Ù‡ÙŠØ±ÙˆÙŠÙ†",
        "none_substance": "Ù„Ø§ Ø´ÙŠØ¡",
        "criminal_record": "Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø¬Ù†Ø§Ø¦ÙŠ",
        "theft": "Ø³Ø±Ù‚Ø©",
        "gender_violence": "Ø¹Ù†Ù Ø¹Ù„Ù‰ Ø£Ø³Ø§Ø³ Ø§Ù„Ø¬Ù†Ø³",
        "homicide": "Ù‚ØªÙ„",
        "terrorism": "Ø¥Ø±Ù‡Ø§Ø¨",
        "hate_speech": "Ø®Ø·Ø§Ø¨ Ø§Ù„ÙƒØ±Ø§Ù‡ÙŠØ©",
        "online_radicalization": "Ø§Ù„ØªØ·Ø±Ù Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª",
        "travel_attempts": "Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø³ÙØ± Ø¥Ù„Ù‰ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù†Ø²Ø§Ø¹",
        "financial_support": "Ø¯Ø¹Ù… Ù…Ø§Ù„ÙŠ Ù„Ù„Ø¬Ù…Ø§Ø¹Ø§Øª Ø§Ù„Ù…ØªØ·Ø±ÙØ©",
        "possession_weapons": "Ø­ÙŠØ§Ø²Ø© Ø£Ø³Ù„Ø­Ø©",
        "attack_planning": "Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„Ù‡Ø¬Ù…Ø§Øª",
        "recruitment": "ØªØ¬Ù†ÙŠØ¯ Ø£Ø¹Ø¶Ø§Ø¡ Ø¬Ø¯Ø¯",
        "propaganda_consumption": "Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø¯Ø¹Ø§ÙŠØ© Ø§Ù„Ù…ØªØ·Ø±ÙØ©",
        "isolation": "Ø¹Ø²Ù„Ø© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©",
        "identity_crisis": "Ø£Ø²Ù…Ø© Ù‡ÙˆÙŠØ©",
        "none_criminal": "Ù„Ø§ Ø´ÙŠØ¡",
        "personality_traits": "Ø³Ù…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©",
        "paranoid": "Ø¬Ù†ÙˆÙ†ÙŠ",
        "antisocial": "Ù…Ø¹Ø§Ø¯ÙŠ Ù„Ù„Ù…Ø¬ØªÙ…Ø¹",
        "sadomasochistic": "Ø³Ø§Ø¯ÙŠ Ù…Ø§Ø²ÙˆØ®ÙŠ",
        "impulsive": "Ù…ØªÙ‡ÙˆØ±",
        "unstable": "ØºÙŠØ± Ù…Ø³ØªÙ‚Ø± Ø¹Ø§Ø·ÙÙŠØ§Ù‹",
        "dependent": "Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠ",
        "avoidant": "ØªØ¬Ù†Ø¨ÙŠ",
        "narcissistic": "Ø§Ù„Ù†Ø±Ø¬Ø³ÙŠ",
        "histrionic": "Ù‡Ø³ØªÙŠØ±ÙŠ",
        "passive_aggressive": "Ø³Ù„Ø¨ÙŠ Ø¹Ø¯ÙˆØ§Ù†ÙŠ",
        "schizoid": "Ø´ÙŠØ²ÙˆÙŠØ¯",
        "obsessive": "Ù…Ù‡ÙˆÙˆØ³",
        "none_traits": "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ù…Ø§Øª Ù…Ù‡Ù…Ø©",
        "submit": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…",
        "results_section": "Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…",
        "risk_level": "Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·Ø±:",
        "high": "Ø¹Ø§Ù„ÙŠ",
        "moderate": "Ù…ØªÙˆØ³Ø·",
        "low": "Ù…Ù†Ø®ÙØ¶",
        "evaluation_date": "ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:",
        "generate_report": "Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ±",
        "download_report": "ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±",
        "download_detailed": "ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…ÙØµÙ„",
        "login_error": "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©",
        "field_required": "Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨",
        "results_info": "Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…ØŒ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ù†ØªØ§Ø¦Ø¬ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø·Ø±.",
        "recommendations": "Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠØ©",
        "therapy_recs": "Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø¹Ù„Ø§Ø¬ÙŠØ©",
        "medication_recs": "Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ©",
        "reintegration_recs": "Ø¹Ù„Ø§Ø¬Ø§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¯Ù…Ø¬",
        "prevention_recs": "ØªØ¯Ø§Ø¨ÙŠØ± ÙˆÙ‚Ø§Ø¦ÙŠØ©",
        "urgent_measures": "ØªØ¯Ø§Ø¨ÙŠØ± Ø¹Ø§Ø¬Ù„Ø©",
        "explanation": "Ø´Ø±Ø­ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·Ø±",
        "high_explanation": "ÙŠØ¸Ù‡Ø± Ø§Ù„Ø´Ø®Øµ Ø¹ÙˆØ§Ù…Ù„ Ø®Ø·Ø± Ù…ØªØ¹Ø¯Ø¯Ø© Ù…Ù‡Ù…Ø© ØªØ´ÙŠØ± Ø¥Ù„Ù‰ Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ù„Ù„ØªØ·Ø±Ù Ø§Ù„Ø¹Ù†ÙŠÙ. ÙŠÙˆØµÙ‰ Ø¨Ø§Ù„ØªØ¯Ø®Ù„ Ø§Ù„ÙÙˆØ±ÙŠ ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø©.",
        "moderate_explanation": "ÙŠØ¸Ù‡Ø± Ø§Ù„Ø´Ø®Øµ Ø¨Ø¹Ø¶ Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ø®Ø·Ø± Ø°Ø§Øª Ø§Ù„ØµÙ„Ø© Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ Ø§Ù‡ØªÙ…Ø§Ù…Ù‹Ø§ ÙˆÙ…ØªØ§Ø¨Ø¹Ø©. ÙŠÙˆØµÙ‰ Ø¨Ø§Ù„ØªØ¯Ø®Ù„ Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠ ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¯ÙˆØ±ÙŠ.",
        "low_explanation": "ÙŠØ¸Ù‡Ø± Ø§Ù„Ø´Ø®Øµ Ø¹Ø¯Ø¯ Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ø®Ø·Ø±. ÙŠÙˆØµÙ‰ Ø¨Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø±ÙˆØªÙŠÙ†ÙŠØ© ÙˆØ§Ù„ØªØ¯Ø§Ø¨ÙŠØ± Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©.",
        "scoring_report": "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙØµÙ„",
        "detailed_scoring": "Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙØµÙ„",
        "total_risk_score": "Ù…Ø¬Ù…ÙˆØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„Ø®Ø·Ø±",
        "education_score": "Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ",
        "substances_score": "Ù†Ù‚Ø§Ø· ØªØ¹Ø§Ø·ÙŠ Ø§Ù„Ù…ÙˆØ§Ø¯",
        "criminal_score": "Ù†Ù‚Ø§Ø· Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø¬Ù†Ø§Ø¦ÙŠ",
        "personality_score": "Ù†Ù‚Ø§Ø· Ø³Ù…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©",
        "diagnosis_list": "Ø§Ù„ØªØ´Ø®ÙŠØµØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©",
        "ptsd": "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ØµØ¯Ù…Ø©",
        "bpd": "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ø­Ø¯ÙŠØ©",
        "bipolar": "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù‚Ø·Ø¨",
        "schizophrenia": "Ø§Ù„ÙØµØ§Ù…",
        "major_depression": "Ø§Ù„Ø§ÙƒØªØ¦Ø§Ø¨ Ø§Ù„Ø´Ø¯ÙŠØ¯ Ø§Ù„Ù…ØªÙƒØ±Ø±",
        "ocd": "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø§Ù„ÙˆØ³ÙˆØ§Ø³ Ø§Ù„Ù‚Ù‡Ø±ÙŠ",
        "gad": "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø§Ù„Ù‚Ù„Ù‚ Ø§Ù„Ø¹Ø§Ù…",
        "panic_disorder": "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø§Ù„Ù‡Ù„Ø¹",
        "social_phobia": "Ø§Ù„Ø±Ù‡Ø§Ø¨ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ",
        "conduct_disorder": "Ø§Ø¶Ø·Ø±Ø§Ø¨ Ø§Ù„Ø³Ù„ÙˆÙƒ",
        "previous_therapies": "Ø§Ù„Ø¹Ù„Ø§Ø¬Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©",
        "therapy_date": "ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù„Ø§Ø¬",
        "select_date": "Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ®",
        "alarm_date": "ØªØ§Ø±ÙŠØ® Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ­Ø°ÙŠØ±",
        "interest_profile": "Ø³Ø¨Ø¨ Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…",
        "family_extremism": "Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ Ù„Ù„ØªØ·Ø±Ù",
        "upload_photo": "ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®Øµ",
        "upload_button": "ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©",
        "photo_requirements": "ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù‡ÙˆÙŠØ© Ø¨Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡",
        "clinical_history": "Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø³Ø±ÙŠØ±ÙŠ",
        "psychological_profile": "Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù†ÙØ³ÙŠ",
        "additional_comments": "ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©"
    },
    "FranÃ§ais": {
        "app_title": "BIAS - SystÃ¨me d'Analyse de l'Intelligence Comportementale",
        "welcome": "Bienvenue au SystÃ¨me d'Analyse de l'Intelligence Comportementale",
        "login": "Connexion",
        "username": "Nom d'utilisateur",
        "password": "Mot de passe",
        "login_button": "Entrer",
        "language": "Langue",
        "logout": "DÃ©connexion",
        "profile_section": "Profil d'Ã©valuation",
        "name": "Nom complet",
        "id_number": "NumÃ©ro d'identification",
        "age": "Ã‚ge",
        "gender": "Genre",
        "male": "Masculin",
        "female": "FÃ©minin",
        "other": "Autre",
        "education": "Niveau d'Ã©ducation",
        "primary": "Primaire",
        "secondary": "Secondaire",
        "university": "Universitaire",
        "postgraduate": "Postuniversitaire",
        "none": "Sans Ã©ducation",
        "substances": "Consommation de substances",
        "alcohol": "Alcool",
        "tobacco": "Tabac",
        "recreational": "Drogues rÃ©crÃ©atives",
        "cocaine": "CocaÃ¯ne",
        "heroin": "HÃ©roÃ¯ne",
        "none_substance": "Aucune",
        "criminal_record": "AntÃ©cÃ©dents criminels",
        "theft": "Vol",
        "gender_violence": "Violence basÃ©e sur le genre",
        "homicide": "Homicide",
        "terrorism": "Terrorisme",
        "hate_speech": "Discours de haine",
        "online_radicalization": "Radicalisation en ligne",
        "travel_attempts": "Tentatives de voyage vers des zones de conflit",
        "financial_support": "Soutien financier aux groupes extrÃ©mistes",
        "possession_weapons": "Possession d'armes",
        "attack_planning": "Planification d'attaques",
        "recruitment": "Recrutement de nouveaux membres",
        "propaganda_consumption": "Consommation de propagande extrÃ©miste",
        "isolation": "Isolement social",
        "identity_crisis": "Crise d'identitÃ©",
        "none_criminal": "Aucun",
        "personality_traits": "Traits de personnalitÃ©",
        "paranoid": "ParanoÃ¯aque",
        "antisocial": "Antisocial",
        "sadomasochistic": "Sadomasochiste",
        "impulsive": "Impulsif",
        "unstable": "Ã‰motionnellement instable",
        "dependent": "DÃ©pendant",
        "avoidant": "Ã‰vitant",
        "narcissistic": "Narcissique",
        "histrionic": "Histrionique",
        "passive_aggressive": "Passif-agressif",
        "schizoid": "SchizoÃ¯de",
        "obsessive": "Obsessionnel",
        "none_traits": "Aucun trait significatif",
        "submit": "Soumettre l'Ã©valuation",
        "results_section": "RÃ©sultats de l'Ã©valuation",
        "risk_level": "Niveau de risque:",
        "high": "Ã‰LEVÃ‰",
        "moderate": "MODÃ‰RÃ‰",
        "low": "FAIBLE",
        "evaluation_date": "Date d'Ã©valuation:",
        "generate_report": "GÃ©nÃ©rer le rapport",
        "download_report": "TÃ©lÃ©charger le rapport",
        "download_detailed": "TÃ©lÃ©charger le rapport dÃ©taillÃ©",
        "login_error": "Nom d'utilisateur ou mot de passe incorrect",
        "field_required": "Ce champ est obligatoire",
        "results_info": "AprÃ¨s avoir soumis l'Ã©valuation, les rÃ©sultats de l'analyse des risques seront affichÃ©s ici.",
        "recommendations": "Recommandations institutionnelles",
        "therapy_recs": "Recommandations thÃ©rapeutiques",
        "medication_recs": "Recommandations pharmacologiques",
        "reintegration_recs": "ThÃ©rapies de rÃ©intÃ©gration",
        "prevention_recs": "Mesures prÃ©ventives",
        "urgent_measures": "Mesures urgentes",
        "explanation": "Explication du niveau de risque",
        "high_explanation": "Le sujet prÃ©sente de multiples facteurs de risque significatifs qui suggÃ¨rent une forte probabilitÃ© de radicalisation violente. Une intervention immÃ©diate et une surveillance constante sont recommandÃ©es.",
        "moderate_explanation": "Le sujet prÃ©sente certains facteurs de risque pertinents qui nÃ©cessitent attention et suivi. Une intervention prÃ©ventive et une Ã©valuation pÃ©riodique sont recommandÃ©es.",
        "low_explanation": "Le sujet prÃ©sente peu de facteurs de risque. Un suivi de routine et des mesures prÃ©ventives de base sont recommandÃ©s.",
        "scoring_report": "Rapport de score dÃ©taillÃ©",
        "detailed_scoring": "Score dÃ©taillÃ©",
        "total_risk_score": "Score de risque total",
        "education_score": "Score du niveau d'Ã©ducation",
        "substances_score": "Score de la consommation de substances",
        "criminal_score": "Score des antÃ©cÃ©dents criminels",
        "personality_score": "Score des traits de personnalitÃ©",
        "diagnosis_list": "Diagnostiques prÃ©cÃ©dents",
        "ptsd": "Trouble de stress post-traumatique (TSPT)",
        "bpd": "Trouble de la personnalitÃ© limite (TPL)",
        "bipolar": "Trouble bipolaire",
        "schizophrenia": "SchizophrÃ©nie",
        "major_depression": "DÃ©pression majeure rÃ©currente",
        "ocd": "Trouble obsessionnel-compulsif (TOC)",
        "gad": "Trouble d'anxiÃ©tÃ© gÃ©nÃ©ralisÃ©e (TAG)",
        "panic_disorder": "Trouble panique",
        "social_phobia": "Phobie sociale",
        "conduct_disorder": "Trouble des conduites",
        "previous_therapies": "ThÃ©rapies prÃ©cÃ©dentes",
        "therapy_date": "Date de dÃ©but de la thÃ©rapie",
        "select_date": "SÃ©lectionner la date",
        "alarm_date": "Date des signes d'alerte",
        "interest_profile": "Motif d'intÃ©rÃªt",
        "family_extremism": "AntÃ©cÃ©dents d'extrÃ©misme familial",
        "upload_photo": "TÃ©lÃ©charger la photo du sujet",
        "upload_button": "TÃ©lÃ©charger l'image",
        "photo_requirements": "La photo doit Ãªtre de type identitÃ© avec un fond blanc",
        "clinical_history": "AntÃ©cÃ©dents cliniques",
        "psychological_profile": "Profil psychologique",
        "additional_comments": "Commentaires additionnels"
    }
}

# Elementos adicionales para las listas
additional_terrorism_antecedents = [
    "hate_speech",
    "online_radicalization",
    "travel_attempts",
    "financial_support",
    "possession_weapons",
    "attack_planning",
    "recruitment",
    "propaganda_consumption",
    "isolation",
    "identity_crisis"
]

additional_mental_health_traits = [
    "ptsd",
    "bpd",
    "bipolar",
    "schizophrenia",
    "major_depression",
    "ocd",
    "gad",
    "panic_disorder",
    "social_phobia",
    "conduct_disorder"
]

additional_personality_traits = [
    "narcissistic",
    "histrionic",
    "passive_aggressive",
    "schizoid",
    "obsessive"
]

def main():
    st.title(translations["EspaÃ±ol"]["app_title"])

    # AutenticaciÃ³n bÃ¡sica
    username = st.text_input(translations["EspaÃ±ol"]["username"])
    password = st.text_input(translations["EspaÃ±ol"]["password"], type="password")

    if st.button(translations["EspaÃ±ol"]["login_button"]):
        if username and password:  # AquÃ­ deberÃ­as validar contra una base de datos real
            st.success(translations["EspaÃ±ol"]["welcome"] + f", {username}!")

            # SecciÃ³n de perfil de evaluaciÃ³n
            with st.container():
                st.header(translations["EspaÃ±ol"]["profile_section"])
                col1, col2, col3 = st.columns(3)
                with col1:
                    name = st.text_input(translations["EspaÃ±ol"]["name"])
                    id_number = st.text_input(translations["EspaÃ±ol"]["id_number"])
                    age = st.number_input(translations["EspaÃ±ol"]["age"], min_value=0, max_value=120, value=18)
                    gender = st.selectbox(translations["EspaÃ±ol"]["gender"], [translations["EspaÃ±ol"]["male"], translations["EspaÃ±ol"]["female"], translations["EspaÃ±ol"]["other"]])
                    education = st.selectbox(translations["EspaÃ±ol"]["education"], [translations["EspaÃ±ol"]["primary"], translations["EspaÃ±ol"]["secondary"], translations["EspaÃ±ol"]["university"], translations["EspaÃ±ol"]["postgraduate"], translations["EspaÃ±ol"]["none"]])
                with col2:
                    substances = st.multiselect(translations["EspaÃ±ol"]["substances"], [translations["EspaÃ±ol"]["alcohol"], translations["EspaÃ±ol"]["tobacco"], translations["EspaÃ±ol"]["recreational"], translations["EspaÃ±ol"]["cocaine"], translations["EspaÃ±ol"]["heroin"], translations["EspaÃ±ol"]["none_substance"]])
                    criminal_record = st.multiselect(translations["EspaÃ±ol"]["criminal_record"], [translations["EspaÃ±ol"]["theft"], translations["EspaÃ±ol"]["gender_violence"], translations["EspaÃ±ol"]["homicide"], translations["EspaÃ±ol"]["terrorism"], translations["EspaÃ±ol"]["none_criminal"]] + [translations["EspaÃ±ol"][item] for item in additional_terrorism_antecedents])  # AÃ±ado aquÃ­ los antecedentes
                    personality_traits = st.multiselect(translations["EspaÃ±ol"]["personality_traits"], [translations["EspaÃ±ol"]["paranoid"], translations["EspaÃ±ol"]["antisocial"], translations["EspaÃ±ol"]["sadomasochistic"], translations["EspaÃ±ol"]["impulsive"], translations["EspaÃ±ol"]["unstable"], translations["EspaÃ±ol"]["dependent"], translations["EspaÃ±ol"]["avoidant"], translations["EspaÃ±ol"]["none_traits"]] + [translations["EspaÃ±ol"][item] for item in additional_personality_traits])  # AÃ±ado aquÃ­ los rasgos
                with col3:
                    diagnosis_list = st.multiselect(translations["EspaÃ±ol"]["diagnosis_list"], [translations["EspaÃ±ol"][item] for item in additional_mental_health_traits]) # AÃ±ado aquÃ­ los diagnosticos
                    previous_therapies = st.text_input(translations["EspaÃ±ol"]["previous_therapies"])
                    therapy_date = st.date_input(translations["EspaÃ±ol"]["therapy_date"], datetime.now())
                    alarm_date = st.date_input(translations["EspaÃ±ol"]["alarm_date"], datetime.now()).year  # Extraigo solo el aÃ±o
                    st.write(f"AÃ±o de seÃ±ales de alarma: {alarm_date}")

                st.header("InformaciÃ³n Adicional")
                col4, col5, col6 = st.columns(3)
                with col4:
                    clinical_history = st.text_area(translations["EspaÃ±ol"]["clinical_history"])
                with col5:
                    psychological_profile = st.text_area(translations["EspaÃ±ol"]["psychological_profile"])
                with col6:
                    additional_comments = st.text_area(translations["EspaÃ±ol"]["additional_comments"])

            if st.button(translations["EspaÃ±ol"]["submit"]):
                # LÃ³gica para generar informes
                if username == "demo_bias":
                    generate_generic_report(name, id_number, age, gender, education, substances, criminal_record, personality_traits, diagnosis_list, previous_therapies, therapy_date, alarm_date, clinical_history, psychological_profile, additional_comments)
                elif username in ["JuanCarlos_bias", "Cristina_bias"]:
                    generate_generic_report(name, id_number, age, gender, education, substances, criminal_record, personality_traits, diagnosis_list, previous_therapies, therapy_date, alarm_date,clinical_history, psychological_profile, additional_comments)
                    generate_director_report(name, id_number, age, gender, education, substances, criminal_record, personality_traits, diagnosis_list, previous_therapies, therapy_date, alarm_date,clinical_history, psychological_profile, additional_comments)
                else:
                    st.warning("No se puede generar el informe para este usuario.")
        else:
            st.error(translations["EspaÃ±ol"]["login_error"])

def generate_generic_report(name, id_number, age, gender, education, substances, criminal_record, personality_traits, diagnosis_list, previous_therapies, therapy_date, alarm_date, clinical_history, psychological_profile, additional_comments):
    # AquÃ­ irÃ­a la lÃ³gica para generar el informe genÃ©rico
    st.info("Generando informe genÃ©rico...")
    st.write("Datos del sujeto:", name, id_number, age, gender, education, substances, criminal_record, personality_traits, diagnosis_list, previous_therapies, therapy_date, alarm_date, clinical_history, psychological_profile, additional_comments)
    st.write("Explicaciones detalladas de Recomendaciones institucionales (por quÃ© se han elegido Ã©stas)")
   # AquÃ­ irÃ­a la lÃ³gica para los grÃ¡ficos
    st.write("GrÃ¡ficos con: urgencia de actuaciÃ³n y estudio de probabilidad de radicalizaciÃ³n o atentado.")
    # AquÃ­ deberÃ­as usar librerÃ­as como matplotlib o plotly para generar los grÃ¡ficos
    # y luego insertarlos en el informe

def generate_director_report(name, id_number, age, gender, education, substances, criminal_record, personality_traits, diagnosis_list, previous_therapies, therapy_date, alarm_date, clinical_history, psychological_profile, additional_comments):
    # AquÃ­ irÃ­a la lÃ³gica para generar el informe para direcciÃ³n
    st.info("Generando informe para direcciÃ³n...")
    # Incluir todo lo del informe genÃ©rico
    st.write("Datos del sujeto:", name, id_number, age, gender, education, substances, criminal_record, personality_traits, diagnosis_list, previous_therapies, therapy_date, alarm_date, clinical_history, psychological_profile, additional_comments)
    st.write("Explicaciones detalladas de Recomendaciones institucionales (por quÃ© se han elegido Ã©stas)")
   # AquÃ­ irÃ­a la lÃ³gica para los grÃ¡ficos
    st.write("GrÃ¡ficos con: urgencia de actuaciÃ³n y estudio de probabilidad de radicalizaciÃ³n o atentado.")
    # Incluir el sistema de puntuaciÃ³n
    st.write("Sistema de puntuaciÃ³n utilizado para tomar todas estas decisiones.")

if __name__ == "__main__":
    main()
